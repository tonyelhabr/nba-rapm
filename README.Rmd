---
output: github_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  error = FALSE,
  warning = FALSE,
  echo = TRUE
)
```

<!-- README.md is generated from README.Rmd. Please edit that file -->

# Introduction

This primary goal of this project is to calculate 
[Regularized Adjusted Plus-Minus](https://www.nbastuffer.com/analytics101/regularized-adjusted-plus-minus-rapm/) 
(RAPM)---an "advanced statistic"---for NBA players. 
The calculated values can be found in the set of `metrics_join` 
CSVs in the project's repository.

I plan to write about this project in more detail [on my blog](https://tonyelhabr.rbind.io).
so I encourage the reader to read more about it there.

# Usage

If you were to fork this project and try to run it from scratch, below
shows the required order of function calls.

First, download all of the data needed.

```{r usage_all, eval = FALSE}
# pre-process ----
# Note that `overwrite = FALSE` is the default, but setting it explciitly here to remind
# the user that it is an option.
# This goes to the
download_pbp_raw_files(overwrite = FALSE)

download_nbastatr(overwrite = FALSE)
download_rpm_espn(overwrite = FALSE)
download_rapm_sz(overwrite = FALSE)
```

Next, run the "main" function. This is what is run with the command-line interface (CLI)
that also comes with the project.

```{r usage_main, eval = FALSE}
# This reads from the config.yml files.
auto_main()
```

Finally, there are functions to explore other things about the data/project.

```{r usage_extra, eval = FALSE}
visualize_proj_profile()
```


# Highlights

A visual comparison of various RAPM-related metrics, either calculated in this
project (i.e. `cacl`) or retrieved from an external source.

![](data/final/viz_metrics_join_summary_2017.png)

The data behind the visual.

```{r metrics_join_summary, echo = FALSE}
metrics_join_summary <-
  .import_data_from_path(
    season = .SEASON,
    path = config$path_metrics_join_summary
  )
metrics_join_summary %>%
  spread(x, adj_r_squared) %>% 
  knitr::kable()
```

